version: "0.5"

variables:
  NAME: "no one"
  BAR: "always"

environments:
  ci:
    ENV: "ci"
    NAME: "Otto"
  ~ci:
    ENV: "local"
    NAME: "Manny"

recipes:
  python:
    help: "Hello world external Python"
    shell: "python $MOLD_DIR/python.py"
    variables:
      NAME: "Recipient of greeting."

  python-script:
    help: "Hello world inline Python"
    shell: "python $MOLD_SCRIPT"
    script: |
      print("Hello, world!")

  shell:
    help: "Hello world external shell"
    shell: "sh $MOLD_DIR/shell.sh"
    variables:
      NAME: "Recipient of greeting."

  shell-script:
    help: "Hello world inline shell"
    shell: "sh $MOLD_SCRIPT"
    script: |
      echo "Hello, world!"

  empty:
    help: "Empty command"
    command: []

  onearg:
    help: "One argument command"
    command: ["ls"]

  cargo:
    help: "Included remote utilities"
    url: "github.com/xtfc/cargo.mold"
    ref: "v4"
